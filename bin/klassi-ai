#!/usr/bin/env node

const { spawn } = require('child_process');
const path = require('path');

// Get the command line arguments
const args = process.argv.slice(2);
const command = args[0] || 'dev';

// Get the directory where this package is installed
const packageDir = path.dirname(__dirname);

// Change to the package directory and run the command
process.chdir(packageDir);

// Run the command using pnpm
const child = spawn('pnpm', [command], {
  stdio: 'inherit',
  shell: true,
  cwd: packageDir
});

child.on('error', (error) => {
  process.exit(1);
});

child.on('close', (code) => {
  if (code !== 0) {
    process.exit(code);
  }
});
